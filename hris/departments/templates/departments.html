{% extends 'base.html' %}
{% block title %}Отделы{% endblock %}

{% block content %}
<div class="container py-4">

  <!-- Заголовок страницы -->
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h1 class="h3">Отделы компании</h1>
    <a href="#" class="btn btn-primary">Добавить отдел</a>
  </div>

  <!-- Поиск и сортировка -->
  <form class="row g-3 mb-4" method="get">
    <div class="col-md-6">
      <input type="text" class="form-control" name="search" placeholder="Поиск по названию отдела...">
    </div>
    <div class="col-md-4">
      <select class="form-select" name="sort">
        <option selected disabled>Сортировать по...</option>
        <option value="name_asc">Название (А–Я)</option>
        <option value="name_desc">Название (Я–А)</option>
        <option value="created_new">Дата создания (новые)</option>
        <option value="created_old">Дата создания (старые)</option>
      </select>
    </div>
    <div class="col-md-2">
      <button type="submit" class="btn btn-outline-secondary w-100">Применить</button>
    </div>
  </form>

  <!-- Таблица отделов -->
  <div class="table-responsive">
    <table class="table table-hover align-middle">
      <thead class="table-light">
        <tr>
          <th scope="col">#</th>
          <th scope="col">Название отдела</th>
          <th scope="col">Описание</th>
          <th scope="col">Дата создания</th>
          <th scope="col">Действия</th>
        </tr>
      </thead>

      <tbody>
      {% for department in departments %}
        <tr>
          <th scope="row">1</th>
          <td>{{ department.name }}</td>
          <td>{{ department.desc }}</td>
          <td>{{ department.created_at }}</td>
          <td>
            <a href="#" class="btn btn-sm btn-outline-secondary me-1">Редактировать</a>
            <a href="#" class="btn btn-sm btn-outline-danger">Удалить</a>
          </td>
        </tr>
      </tbody>
    {% empty %}
        <a>Отделы не добавлены</a>
    {% endfor %}
    </table>
  </div>

</div>
{% endblock %}